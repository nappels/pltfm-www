var PLTFRM={init:function(){window.innerWidth<768?PLTFRM.Sliders.init():PLTFRM.Clicker.init(),this.Resizer.init(),this.Retina.init()},Clicker:{init:function(){document.querySelector(this.data.selector).classList.add("active"),this.data.swipe=Swipe(PLTFRM.Phones.clickEl,PLTFRM.Sliders.options),this.addListeners()},data:{selector:".functionality",swipe:null},addListeners:function(){for(var e=document.querySelectorAll(this.data.selector),i=e.length,t=0;i>t;t++)e[t].setAttribute("data-index",t),e[t].addEventListener("click",this.handleClick,!1)},handleClick:function(){PLTFRM.Clicker.removeActive(e)
var e=this.getAttribute("data-index")
PLTFRM.Clicker.goToPhone(e),this.classList.add("active")},removeActive:function(){document.querySelector(this.data.selector+".active").classList.remove("active")},goToPhone:function(e){this.data.swipe.slide(e,500)}},Phones:{swipeEl:document.querySelector("#slider"),clickEl:document.querySelector("#bigPhonePic")},Sliders:{init:function(){this.data.swipe=Swipe(PLTFRM.Phones.swipeEl,PLTFRM.Sliders.options),PLTFRM.Sliders.setSlideClasses(0)},data:{swipe:null},options:{startSlide:0,speed:400,auto:7e3,draggable:!1,continuous:!0,disableScroll:!0,stopPropagation:!0,callback:function(e){PLTFRM.Sliders.setSlideClasses(e)}},setSlideClasses:function(e){var i=document.querySelectorAll(".functionality"),t=e-1,n=e+1
0>t&&(t=i.length-1),n>=i.length&&(n=0)
for(var s=0;s<i.length;s++)i[s].classList.remove("next"),i[s].classList.remove("previous"),i[s].classList.remove("active"),i[s].dataset.index==t?i[s].classList.add("previous"):i[s].dataset.index==n?i[s].classList.add("next"):i[s].classList.add("active")}},Resizer:{init:function(){window.onresize=function(){window.innerWidth<768&&null===PLTFRM.Sliders.data.swipe?(PLTFRM.Clicker.data.swipe.kill(),PLTFRM.Clicker.data.swipe=null,PLTFRM.Sliders.init()):window.innerWidth>=768&&null===PLTFRM.Clicker.data.swipe&&(setTimeout(function(){PLTFRM.Sliders.data.swipe.kill(),PLTFRM.Sliders.data.swipe=null},200),PLTFRM.Clicker.init())}}},Retina:{init:function(){if(window.devicePixelRatio>1&&Utils.detectIE())for(var e=document.querySelectorAll("img"),i=e.length,t=0;i>t;t++){var n=e[t].src.split(".");("jpg"===n[1]||"png"===n[1])&&(e[t].src=n[0]+"@2x."+n[1])}}},Scroller:{toSection:function(e,i,t){var n=e.offsetTop,s=document.querySelector(i).offsetTop,l=n>s?n-s:s,o=document.body.offsetHeight-window.innerHeight
l>o&&(l=o-2)
var t=t||400,r=l/t*10
this.stepScroll(r,l)},stepScroll:function(e,i){setTimeout(function(){var t=window.scrollY
window.scrollTo(0,t+e),window.scrollY<=i&&PLTFRM.Scroller.stepScroll(e,i)},10)}}},Utils={detectIE:function(){var e=window.navigator.userAgent,i=e.indexOf("Trident/")
if(i>0){var t=e.indexOf("rv:")
return parseInt(e.substring(t+3,e.indexOf(".",t)),10)}var n=e.indexOf("Edge/")
return n>0?parseInt(e.substring(n+5,e.indexOf(".",n)),10):!1}}
PLTFRM.init()
